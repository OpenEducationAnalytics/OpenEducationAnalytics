# Data and Data Sources

The goal of this package is to identify the target variable, Attrition, in students. For an example scenario of the Student Attrition Prediction Package use, reference the page [here](https://learn.microsoft.com/en-us/azure/architecture/example-scenario/ai/student-attrition-prediction).

This package can accomodate a variety of data sources that feed into the predictive model. Current examples within the OEA framework include the [SIS OEA module] and the [Insights OEA module]. For details on the data provided by those modules, see the [SIS OEA module Data folder] or the [Insights OEA module Data folder]. For more information, see the Additional Data Sources section lower on this page.

As it stands, this package utilizes the following data sources:

* **School Information System (SIS)**: Student demographics, enrollment type, GPA, and special accomodations

## Pseudonymization of End User Identifiable Information

To protect students’ identity and comply with GDPR and CCPA requirements, it is required that end user identifiable information like names, email addresses, etc., are pseudonymized. The [OEA framework](https://github.com/microsoft/OpenEduAnalytics/tree/main/framework/synapse) incorporates notebooks and pipelines for pseudonymizing columns in the data sets used for this package.

The OEA pseudonymization operations are:

* **hash-no-lookup or hnl:** This means that the lookup can be performed against a different table, so no lookup is needed
* **hash or h:** This will hash the column and create a lookup table as well
* **mask or m:** This will mask the column and will not create a lookup table
* **no-op or x:** No operation will be performed so the column will remain as it is.

## Predictive Model Results

The following data signals are generated by models used:

* **Predictions**: Predictions of Retain or Attrition were stored and used for dashboard visualizations.
* **Probabilities**: For each student, a probability percentage of Retain versus Attrition is stored to give greater insight to the probability of attrition per student.

# Data Sources

This package is to combine multiple data sources which were identified through [research](https://github.com/microsoft/OpenEduAnalytics/blob/main/packages/package_catalog/Chronic_Absenteeism/docs/OEA%20Chronic%20Abs%20Package%20-%20Use%20Case%20Doc.pdf) as strongly related to absenteeism. These sources were used to create the dashboards for Fresno Unified School District on production data: 
* **School Information System (SIS)**: Student school, grade, roster, and demographics data
* **Barriers to students**: Transportation data, distance from school, school changes, student illness
* **School experiences**: School suspension, disciplinary, behavior, and learning outcome data
* **Engagement data**: School attendance, digital engagement

As it stands, this package combines the following data sources (and should be adapted to incorporate the data sources listed above for production purposes):
* **School Information System (SIS)**: Student school, grade, and roster data
* **Engagement data**: School attendance, digital engagement

## Pseudonymization of End User Identifiable Information
To protect students’ identity and comply with GDPR and CCPA requirements, it is required that end user identifiable information like names, email addresses, etc., are pseudonymized. The [OEA framework](https://github.com/microsoft/OpenEduAnalytics/tree/main/framework/synapse) incorporates notebooks and pipelines for pseudonymizing columns in the data sets used for this package.

The OEA pseudonymization operations are:
- **hash-no-lookup or hnl:** This means that the lookup can be performed against a different table, so no lookup is needed
- **hash or h:** This will hash the column and create a lookup table as well
- **mask or m:** This will mask the column and will not create a lookup table
- **no-op or x:** No operation will be performed so the column will remain as it is

## Digital Engagement Data

To quanity a student involvment in school, three digital signals were considered. Values were normalized by grade and teacher to account for various uses of these technologies in the classroom.
* **M365 [Education Insights](https://github.com/microsoft/OpenEduAnalytics/tree/main/modules/module_catalog/Microsoft_Education_Insights)**: Digital activity related to M365 applications
* **[Clever](https://github.com/microsoft/OpenEduAnalytics/tree/main/modules/module_catalog/Clever)**: Learning app activity
* **[i-Ready](https://github.com/microsoft/OpenEduAnalytics/tree/main/modules/module_catalog/iReady)**: Math and english learning activity
* **Note:** iReady data is not currently used in the data curation/test data processing and analytics. The notebooks and Power BI dashboard can be adapted to include this.

## Predictive Model Results

Predictive models developed for this package use [InterpretML](https://interpret.ml/)'s Glassbox model: [Explainable Boosting Classifier](https://interpret.ml/docs/ebm.html). Model predictions were explained using the feature-score assessment contained within this model. PowerBI dashboards were used to assess model fairness. Specifically, the following data signals were generated by models used.
* **Predictions**: Probability (0-100%) and class predictions (chronic absent or not) were stored and used for dashboard visualizations.
* **Explanations**: Model expanations were generated for all predictions. That is, for each predition, model variable importance was assessed and scored. These explanations help identify which model variables are most important for predictions of chronic absense. 
* **Accuracies**: To assess model quality, model predictions were made where true outcomes of chornic absense were already known. Model accuracy can then be computed.

## Power BI Data Model

Below is a view of the data model used in Power BI visualizations. The primary tables and relationships can be seen.

* **StudentModel_pseudo Table**: Data used to train the predictive model and extract model results.
* **ModelResults_pseudo Table**: Log of all model assessment results used for model development, such as: predictions on student data, and key drivers in model predictions.
* **feature_name_mapping Table**: Mapping of model-used feature/driver names to simplified names for clarity.

![](https://github.com/microsoft/OpenEduAnalytics/blob/main/packages/package_catalog/Predicting_Chronic_Absenteeism/docs/images/assets_for_test_data/pbi_data_model_for_test_data.png)

## Additional Data Sources

Implementations of this package can use several [OEA Modules](https://github.com/microsoft/OpenEduAnalytics/tree/main/modules) to help ingest data sources that are typically used to understand patterns of student attrition (see below for list of relevant OEA modules).  

| OEA Module | Description |
| --- | --- |
| [Student and School Data Systems](https://github.com/microsoft/OpenEduAnalytics/tree/main/modules/module_catalog/Student_and_School_Data_Systems/) | For typical Student Information System (SIS) data, including student demographic information, enrollment type, GPA, and academic status. |
| [Microsoft Education Insights](https://github.com/microsoft/OpenEduAnalytics/tree/main/modules/module_catalog/Microsoft_Education_Insights/) | For typical Student Information System (SIS) data, including student demographic information, enrollment type, GPA, and academic status. |
| [Ed-Fi Data Standards](https://github.com/microsoft/OpenEduAnalytics/tree/main/modules/module_catalog/Ed-Fi) | For typical Student Information System (SIS) data, including student demographic information, enrollment type, GPA, and academic status. |

Feel free to generate your own test data that will suit the new package you are creating. When generating new test data, it is important to make sure that it aligns with existing data or new data you plan to create so it becomes easier to join the tables and create relationships for Power BI visualization. To make this process seamless, we recommend integrating OEA standardized schemas. Common education data standards like Caliper, Ed-Fi and SIF allow for data solutions to be built on a common analytical foundation and for a ‘plug and play’ approach to combining data from multiple sources.  [Learn more about how to integrate OEA schemas in your new module](https://github.com/microsoft/OpenEduAnalytics/tree/main/schemas).

## Power BI Data Model

![](https://github.com/microsoft/OpenEduAnalytics/tree/main/packages/package_catalog/Student_Attrition/powerbi/images/PBI_data_model.png)

## Data Dictionary

This package relies on data sourced from School Information Systems. Once aggregated, this data can be fed through the Responsible AI Accelerator in Azure Machine Learning to provide key insights.

### Train and Test Data (test.json, train.json)

| Student Attrition Factor | Description |
| --- | --- |
| FirstGenerationinCollegeFlag | |
| Gender | |
| Race | |
| HSGraduateorGED | |
| Age_Term_Min | |
| Age_Term_Max | |
| Total_Terms | |
| Entry_Type_DualEnrollment | |
| Entry_Type_EarlyAdmission | |
| Entry_Type_FirstTimeinCollege | |
| Entry_Type_Other | |
| Entry_Type_Re-Entry | |
| Entry_Type_Transfer | |
| AcademicProbation | |
| AcademicSuspension | |
| AcademicSuspensionFor1Year | |
| AcademicWarning | |
| ExtendProbationForLowGpa | |
| GoodAcademicStanding | |
| ProbationAfterSuspen/Dismiss | |
| TransferedToNonBusiness | |
| CumulativeGPA | |
| CumulativeCreditHoursEarnedPerTerm | |
| Blended | |
| FullyOnline | |
| RemoteLearning | |
| RemoteLearningBlended | |
| Traditional | |
| Adjunct | |
| Faculty | |
| Unknown_InstructorType | |
| PELL_Eligible | |
| Attrition | |

### Predict Data (predict.json, predict_proba.json)

| Predict | Description |
| --- | --- |
| Evaluation | Attrition or Retain |

| Predict Proba | Description |
| --- | --- |
| Column 1 | Between 0 and 1, prediction probability of Attrition |
| Column 2 | Between 0 and 1, prediction probability of Retain |

It is critical that all end user identifiable information is pseudonymized to comply with GDPR and CCPA requirements (more details on the OEA pseudonymization process [here](https://github.com/microsoft/OpenEduAnalytics/blob/main/packages/package_catalog/Predicting_Chronic_Absenteeism/data/README.md#pseudonymization-of-end-user-identifiable-information)).

Implementations of this package can use several [OEA Modules](https://github.com/microsoft/OpenEduAnalytics/tree/main/modules) to help ingest data sources that are typically used to understand patterns of chronic absenteeism (see below for list of relevant OEA modules).  

| OEA Module | Description |
| --- | --- |
| [Ed-Fi Data Standards](https://github.com/microsoft/OpenEduAnalytics/tree/main/modules/module_catalog/Ed-Fi) | For typical Student Information System (SIS) data, including school rosters, grade level, demographics, digital activity, and academic data. <strong>Note:</strong> This package does not currently implement Ed-Fi data, but will be updated to include this in the future. |
| Microsoft Digital Engagement | Such as M365 [Education Insights](https://github.com/microsoft/OpenEduAnalytics/tree/main/modules/module_catalog/Microsoft_Education_Insights), or [Microsoft Graph](https://github.com/microsoft/OpenEduAnalytics/tree/main/modules/module_catalog/Microsoft_Graph) data. |
| [Clever](https://github.com/microsoft/OpenEduAnalytics/tree/main/modules/module_catalog/Clever) | For more digital activity and learning app data. |
| [i-Ready](https://github.com/microsoft/OpenEduAnalytics/tree/main/modules/module_catalog/iReady) | For language/math assessments and learning activities. |
